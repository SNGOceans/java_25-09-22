package day07;

import java.util.Arrays;

public class MethodEx03 {
	
//	// 1. 배열을 매개변수로 받아 랜덤수를 채워주는 메서드 / 중복제거
//	public int[] random_number(int[] arr) {
//		int result[] = new int[arr.length];
//		boolean isDuplicate;
//			for(int i=0; i<result.length; i++) {
//				do {
//					isDuplicate = false;
//					result[i] = (int)((45)*Math.random()+1);
//					for(int j=0; j<i; j++) {
//						if(result[i] == result[j]) {
//							isDuplicate = true;
//							break;
//						}
//					}
//				}
//				while (isDuplicate);
//			}
//		return result;
//	}
	// 1. 배열을 매개변수로 받아 랜덤수를 채워주는 메서드 / 중복제거
	// 매개변수 : 배열 => int[] arr
	// 리턴타입 : 없음 => void
	public void random_number(int[] arr) {
		int cnt = 0;
		while(cnt < arr.length) {
			int random = (int)(Math.random()*45+1);
			if(!isContains(arr, random)) {
				arr[cnt]=random;
				cnt++;
			}
		}
	}
	
	// 1-1. 중복 확인 메서드
	// 배열과 랜덤값을 매개변수로 받아 배열에 랜덤값이 존재하면 true/false
	// 매개변수 : 배열, 랜덤값 => int[] arr, int random
	// 리턴타입 : boolean
	public boolean isContains(int[] arr, int random) {
		for(int i=0; i<arr.length; i++) {
			if(arr[i] == random) {
				return true;
			}
		}		
		return false;
	}
	
	// 2. 배열을 출력하는 메서드
	public void print (int[] arr) {
		System.out.println(Arrays.toString(arr));
	}
	
	// 3. 당첨을 확인하는 메서드
	public void check_winning(int[] userNum, int[] comNum) {
		int count = 0;
		boolean bonus_flag = false;
		for(int i=0; i<userNum.length; i++) {
			for(int j=0; j<comNum.length-1; j++) {
				if(userNum[i] == comNum[j]) {
                   count++;
				} 
			}
		}
		
		// 2. 보너스 번호 비교 (comNum[6])
	    for (int i = 0; i < userNum.length; i++) {
	        if (userNum[i] == comNum[comNum.length - 1]) {
	            bonus_flag = true;
	            break;
	        }
	    }
		
		if (count == 6) {
			System.out.println("6개 일치 : 1등 (보너스 제외)");
		} else if (count == 5) {
			if (bonus_flag == true) {
				System.out.println("5개 일치 + 보너스 : 2등");
			}
			else {
				System.out.println("5개 일치 : 3등");
			}
		} else if (count == 4) {
			System.out.println("4개 일치 : 4등");
		} else if (count == 3) {
			System.out.println("3개 일치 : 3등");
		} else {
			System.out.println(count+"개 일치 : "+"안타깝게도 꽝입니다!!");
		}

	}
	
	public static void main(String[] args) {
		/* 로또 번호 생성
		 * User 번호 6개
		 * 1~45까지 중 6개 번호를 랜덤으로 생성 (자동)
		 * 당첨 번호 7개 (보너스번호 +1)
		 * 
		 * 당첨번호와 유저 번호를 비교하여 등수 추출
		 * 6개 일치 : 1등 (보너스 제외)
		 * 5개 일치 + 보너스 : 2등
		 * 5개 일치 : 3등
		 * 4개 일치 : 4등
		 * 3개 일치 : 5등
		 * 나머지 꽝!
		 */
		
		int[] user = new int[6]; // 로또 자동번호 배열
		int[] lotto = new int[7]; // 당첨번호 배열
		
		MethodEx03 m = new MethodEx03();
		
		m.random_number(user);
		m.random_number(lotto);
		
		m.print(user);
		m.print(lotto);
		
		m.check_winning(user,lotto);
		
	}

}
