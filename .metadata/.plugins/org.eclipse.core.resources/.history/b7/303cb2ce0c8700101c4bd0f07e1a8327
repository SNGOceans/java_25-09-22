import java.util.Arrays;
import java.util.HashSet;
import java.util.Scanner;
import java.util.Set;

public class BaseballGame {

    public static void main(String[] args) {
        
        // 1. 컴퓨터의 3자리 숫자 생성 (중복 없이)
        Set<Integer> comNumSet = new HashSet<>();
        while(comNumSet.size() < 3) {
            comNumSet.add((int)(Math.random() * 10));
        }
        Integer[] comNum = comNumSet.toArray(new Integer[0]);
        
        System.out.println("컴퓨터 숫자(테스트용): " + Arrays.toString(comNum));
        
        Scanner scan = new Scanner(System.in);
        int strike = 0;
        
        // 2. 3 스트라이크가 될 때까지 게임 반복
        while(strike != 3) {
            strike = 0;
            int ball = 0;
            Integer[] userNum = new Integer[3];

            System.out.println("숫자 3개를 띄어쓰기로 구분하여 입력하세요 (예: 1 2 3) >");
            
            try {
                String input = scan.nextLine();
                String[] tokens = input.trim().split("\\s+");
                
                // 입력 개수 확인
                if (tokens.length != 3) {
                    System.out.println("❌ 잘못된 입력입니다. 숫자 3개를 입력해주세요.");
                    continue; 
                }
                
                Set<Integer> userNumSet = new HashSet<>();
                boolean isValidInput = true;
                
                for (int i = 0; i < tokens.length; i++) {
                    int num = Integer.parseInt(tokens[i]);
                    
                    // 입력된 숫자의 범위 (0-9) 확인
                    if (num < 0 || num > 9) {
                        System.out.println("❌ 숫자는 0부터 9 사이여야 합니다.");
                        isValidInput = false;
                        break;
                    }
                    
                    userNum[i] = num;
                    userNumSet.add(num);
                }
                
                if (!isValidInput) {
                    continue; 
                }
                
                // 입력된 숫자의 중복 확인
                if (userNumSet.size() != 3) {
                    System.out.println("❌ 중복되지 않는 숫자를 입력해주세요.");
                    continue;
                }
                
            } catch (NumberFormatException e) {
                System.out.println("❌ 잘못된 입력입니다. 숫자를 입력해주세요.");
                continue;
            }
            
            // 3. 스트라이크와 볼 판정
            for (int i = 0; i < userNum.length; i++) {
                for (int j = 0; j < comNum.length; j++) {
                    if (userNum[i].equals(comNum[j])) {
                        if (i == j) {
                            strike++;
                        } else {
                            ball++;
                        }
                        break;
                    }
                }
            }
            
            // 4. 결과 출력
            if (strike == 0 && ball == 0) {
                System.out.println("OUT!");
            } else {
                System.out.println(strike + "S " + ball + "B");
            }
        }
        
        System.out.println("🎉 정답입니다! 게임을 종료합니다.");
        scan.close();
    }
}