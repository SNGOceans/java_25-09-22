package day10;

import java.util.Scanner;

public class ProductMain {

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        
        // 메뉴 배열
        Product[] menuList = {
            new Product("콜라", 1000),
            new Product("사이다", 1200),
            new Product("오렌지주스", 1500)
        };

        // 주문 배열 (최대 10개까지 저장 가능)
        Order[] orderList = new Order[10];
        int orderIndex = 0;

        while (true) {
            System.out.println("\n-- menu --");
            System.out.println("1. 메뉴보기");
            System.out.println("2. 주문하기");
            System.out.println("3. 주문내역 보기");
            System.out.println("4. 종료");
            System.out.print("선택: ");
            int choice = sc.nextInt();

            switch (choice) {
                case 1:
                    System.out.println("\n[전체 메뉴]");
                    for (int i = 0; i < menuList.length; i++) {
                        System.out.println((i + 1) + ". " + menuList[i]);
                    }
                    break;

                case 2:
                    if (orderIndex >= orderList.length) {
                        System.out.println("더 이상 주문을 저장할 수 없습니다.");
                        break;
                    }

                    System.out.print("주문할 메뉴 번호: ");
                    int menuNum = sc.nextInt();

                    if (menuNum < 1 || menuNum > menuList.length) {
                        System.out.println("잘못된 메뉴 번호입니다.");
                        break;
                    }

                    Product selected = menuList[menuNum - 1];
                    String selectName = selected.getName();
                    int selectPrice = selected.getPrice();

                    System.out.print("수량 입력: ");
                    int count = sc.nextInt();

                    orderList[orderIndex++] = new Order(selected.getName(), selected.getPrice(), count);
                    System.out.println("주문이 완료되었습니다.");
                    break;

                case 3:
                    System.out.println("\n[전체 주문 내역]");
                    int totalSum = 0;
                    for (int i = 0; i < orderIndex; i++) {
                        System.out.println(orderList[i]);
                        totalSum += orderList[i].getTotal();
                        System.out.println("전체 주문 총액은 "+totalSum+"원입니다.");
                    }
                    break;

                case 4:
                    System.out.println("프로그램을 종료합니다.");
                    sc.close();
                    return;
                    
                default:
                    System.out.println("잘못된 선택입니다.");
            }
        }
    }
}