package day06;

import java.util.Arrays;
import java.util.Scanner;

public class Exam01_1 {

	public static void main(String[] args) {
		/* 야구게임
		 * 컴퓨터가 랜덤으로 3자리의 숫자를 생성
		 * (각 자리의 수는 0~9)(중복 불가능)
		 * => 배열로 저장 (랜덤)(중복 불가능)
		 * 유저가 3자리를 맞추는 게임.
		 * 자리와 숫자가 같이 일치하면 strike
		 * 자리는 불일치, 숫자만 일치하면 ball,
		 * 자리도 숫자도 안맞으면 out
		 * * ex)com: 1 2 3
		 * user : 1 5 9 => 1s.
		 * user : 2 5 8 => 1b.
		 * user : 7 8 9 => out.
		 * user : 1 9 5 => 1s.
		 * user : 1 2 8 => 2b.
		 * user : 1 2 3 => 3s. 정답!
		 */
		
		int[] comNum = new int[3];
		// 컴퓨터가 생성할 3자리 숫자를 저장할 배열
		
		// 1. 컴퓨터의 랜덤 숫자 3자리 생성 (중복 없이)
		for(int i = 0; i < comNum.length; i++) {
			while(true) {
				comNum[i] = (int)(Math.random() * 10);
				boolean isDuplicate = false; // 중복 여부 초기화
				for(int j = 0; j < i; j++) {
					if(comNum[i] == comNum[j]) {
						isDuplicate = true;
						break;
					}
				}
				if(!isDuplicate) {
					break;
				}
			}
		}
		System.out.println("컴퓨터 숫자(테스트용): " + Arrays.toString(comNum));
		
		Scanner scan = new Scanner(System.in);
		int strike = 0;
		
		// 2. 3 스트라이크가 될 때까지 게임 반복
		while(strike != 3) {
			int[] userNum = new int[3];
			strike = 0;
			int ball = 0;
			
			System.out.println("숫자 3개를 띄어쓰기로 구분하여 입력하세요 (예: 1 2 3) >");
			
			try {
				String input = scan.nextLine();
				String[] tokens = input.trim().split("\\s+");
				
				if (tokens.length != 3) {
					System.out.println("잘못된 입력입니다. 숫자 3개를 입력해주세요.");
					continue; // 루프의 처음으로 돌아감
				}
				
				for (int k = 0; k < tokens.length; k++) {
					userNum[k] = Integer.parseInt(tokens[k]);
				}
			} catch (NumberFormatException e) {
				System.out.println("잘못된 입력입니다. 숫자를 입력해주세요.");
				continue; // 루프의 처음으로 돌아감
			}
			
			// 3. 스트라이크와 볼 판정
			for (int i = 0; i < userNum.length; i++) {
				for (int j = 0; j < comNum.length; j++) {
					if (userNum[i] == comNum[j]) { // 숫자가 일치하는 경우
						if (i == j) {
							strike++; // 위치도 같으면 스트라이크
						} else {
							ball++;   // 위치가 다르면 볼
						}
						break;
					}
				}
			}
			
			// 4. 결과 출력
			if (strike == 0 && ball == 0) {
				System.out.println("OUT!");
			} else {
				System.out.println(strike + "S " + ball + "B");
			}
		}
		
		System.out.println("정답입니다! 게임을 종료합니다.");
		scan.close();
	}
}