package day07;

import java.util.Arrays;

public class MethodEx03 {
	
	// 1. ë°°ì—´ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ ëœë¤ìˆ˜ë¥¼ ì±„ì›Œì£¼ëŠ” ë©”ì„œë“œ / ì¤‘ë³µì œê±°
	public int[] random_number(int[] arr) {
		int result[] = new int[arr.length];
		boolean isDuplicate;
			for(int i=0; i<result.length; i++) {
				do {
					isDuplicate = false;
					result[i] = (int)((45)*Math.random()+1);
					for(int j=0; j<i; j++) {
						if(result[i] == result[j]) {
							isDuplicate = true;
							break;
						}
					}
				}
				while (isDuplicate);
			}
		return result;
	}
	
	// 2. ë°°ì—´ì„ ì¶œë ¥í•˜ëŠ” ë©”ì„œë“œ
	public void print (int[] arr) {
		System.out.println(Arrays.toString(arr));
	}
	
	// 3. ë‹¹ì²¨ì„ í™•ì¸í•˜ëŠ” ë©”ì„œë“œ
	public void check_winning(int[] userNum, int[] comNum) {
		int count = 0;
		boolean bonus_flag = false;
		for(int i=0; i<userNum.length; i++) {
			for(int j=0; j<comNum.length-1; j++) {
				if(userNum[i] == comNum[j]) {
                   count++;
				} 
			}
		}
		
		// 2. ë³´ë„ˆìŠ¤ ë²ˆí˜¸ ë¹„êµ (comNum[6])
	    for (int i = 0; i < userNum.length; i++) {
	        if (userNum[i] == comNum[comNum.length - 1]) {
	            bonus_flag = true;
	            break;
	        }
	    }
		
		if (count == 6) {
			System.out.println("6ê°œ ì¼ì¹˜ : 1ë“± (ë³´ë„ˆìŠ¤ ì œì™¸)");
		} else if (count == 5) {
			if (bonus_flag == true) {
				System.out.println("5ê°œ ì¼ì¹˜ + ë³´ë„ˆìŠ¤ : 2ë“±");
			}
			else {
				System.out.println("5ê°œ ì¼ì¹˜ : 3ë“±");
			}
		} else if (count == 4) {
			System.out.println("4ê°œ ì¼ì¹˜ : 4ë“±");
		} else if (count == 3) {
			System.out.println("3ê°œ ì¼ì¹˜ : 3ë“±");
		} else {
			System.out.println("ì•ˆíƒ€ê¹ê²Œë„ ê½ì…ë‹ˆë‹¤!!");
		}

	}
	
//	public static void main(String[] args) {
//		/* ë¡œë˜ ë²ˆí˜¸ ìƒì„±
//		 * User ë²ˆí˜¸ 6ê°œ
//		 * 1~45ê¹Œì§€ ì¤‘ 6ê°œ ë²ˆí˜¸ë¥¼ ëœë¤ìœ¼ë¡œ ìƒì„± (ìë™)
//		 * ë‹¹ì²¨ ë²ˆí˜¸ 7ê°œ (ë³´ë„ˆìŠ¤ë²ˆí˜¸ +1)
//		 * 
//		 * ë‹¹ì²¨ë²ˆí˜¸ì™€ ìœ ì € ë²ˆí˜¸ë¥¼ ë¹„êµí•˜ì—¬ ë“±ìˆ˜ ì¶”ì¶œ
//		 * 6ê°œ ì¼ì¹˜ : 1ë“± (ë³´ë„ˆìŠ¤ ì œì™¸)
//		 * 5ê°œ ì¼ì¹˜ + ë³´ë„ˆìŠ¤ : 2ë“±
//		 * 5ê°œ ì¼ì¹˜ : 3ë“±
//		 * 4ê°œ ì¼ì¹˜ : 4ë“±
//		 * 3ê°œ ì¼ì¹˜ : 5ë“±
//		 * ë‚˜ë¨¸ì§€ ê½!
//		 */
//		
//		int[] user = new int[6]; // ë¡œë˜ ìë™ë²ˆí˜¸ ë°°ì—´
//		int[] user_input = new int[6];
//		
//		int[] lotto = new int[7]; // ë‹¹ì²¨ë²ˆí˜¸ ë°°ì—´
//		int[] lotto_answer = new int[7];
//		
//		MethodEx03 m = new MethodEx03();
//		
//		user_input = m.random_number(user);
//		lotto_answer = m.random_number(lotto);
//		
//		m.print(user_input);
//		m.print(lotto_answer);
//		
//		m.check_winning(user_input,lotto_answer);
//		
//	}
	
	public static void main(String[] args) {
	    int winCount = 0;
	    int bestRank = Integer.MAX_VALUE; // ê°€ì¥ ë†’ì€ ë“±ìˆ˜ (1ë“±ì´ ê°€ì¥ ë‚®ì€ ìˆ«ì)
	    int[] bestUser = null;
	    int[] bestLotto = null;

	    MethodEx03 m = new MethodEx03();

	    for (int trial = 1; trial <= 10000000; trial++) {
	        int[] user_input = m.random_number(new int[6]);
	        int[] lotto_answer = m.random_number(new int[7]);

	        int matchCount = 0;
	        boolean bonus_flag = false;

	        // ì¼ë°˜ ë²ˆí˜¸ ë¹„êµ
	        for (int i = 0; i < user_input.length; i++) {
	            for (int j = 0; j < lotto_answer.length - 1; j++) {
	                if (user_input[i] == lotto_answer[j]) {
	                    matchCount++;
	                    break;
	                }
	            }
	        }

	        // ë³´ë„ˆìŠ¤ ë²ˆí˜¸ ë¹„êµ
	        for (int i = 0; i < user_input.length; i++) {
	            if (user_input[i] == lotto_answer[lotto_answer.length - 1]) {
	                bonus_flag = true;
	                break;
	            }
	        }

	        int rank = 0;
	        if (matchCount == 6) {
	            rank = 1;
	            System.out.println("ğŸ‰ 1ë“± ë‹¹ì²¨!");
	        } else if (matchCount == 5 && bonus_flag) {
	            rank = 2;
	            System.out.println("ğŸ‰ 2ë“± ë‹¹ì²¨!");
	        } else if (matchCount == 5) {
	            rank = 3;
	            System.out.println("ğŸ‰ 3ë“± ë‹¹ì²¨!");
	        } else if (matchCount == 4) {
	            rank = 4;
	            System.out.println("ğŸ‰ 4ë“± ë‹¹ì²¨!");
	        } else if (matchCount == 3) {
	            rank = 5;
	            System.out.println("ğŸ‰ 5ë“± ë‹¹ì²¨!");
	        }

	        if (rank > 0) {
	            winCount++;
	            if (rank < bestRank) {
	                bestRank = rank;
	                bestUser = Arrays.copyOf(user_input, user_input.length);
	                bestLotto = Arrays.copyOf(lotto_answer, lotto_answer.length);
	            }

	            System.out.println("ì‚¬ìš©ì ë²ˆí˜¸: ");
	            m.print(user_input);
	            System.out.println("ë‹¹ì²¨ ë²ˆí˜¸: ");
	            m.print(lotto_answer);
	            System.out.println("-----------------------------");
	        }
	    }

	    System.out.println("ì´ ë‹¹ì²¨ íšŸìˆ˜: " + winCount + " / 1000íšŒ");

	    if (bestRank != Integer.MAX_VALUE) {
	        System.out.println("ğŸ¯ ê°€ì¥ ë†’ì€ ë“±ìˆ˜: " + bestRank + "ë“±");
	        System.out.println("ğŸ“Œ í•´ë‹¹ ì‚¬ìš©ì ë²ˆí˜¸:");
	        m.print(bestUser);
	        System.out.println("ğŸ“Œ í•´ë‹¹ ë‹¹ì²¨ ë²ˆí˜¸:");
	        m.print(bestLotto);
	    } else {
	        System.out.println("ğŸ˜¢ 1000íšŒ ì¤‘ ë‹¹ì²¨ëœ ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.");
	    }
	}

}
